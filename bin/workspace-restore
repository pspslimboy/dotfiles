#!/bin/bash
#i3-msg "workspace 3; append_layout ~/.i3/workspace_3.json"
#i3-msg "workspace 2; append_layout ~/.i3/workspace_2.json"

#i3-msg "workspace 1; append_layout ~/.i3/workspace_1.json; workspace 2; append_layout ~/.i3/workspace_2.json; workspace 3; append_layout ~/.i3/workspace_3.json" 

restore-wkspace1() {
	i3-msg "workspace 1; append_layout ~/.i3/workspace_1.json"
	chromium-snapshot-bin &
}

restore-wkspace2() {
	i3-msg "workspace 2; append_layout ~/.i3/workspace_2.json"
	urxvt -title cava -fn "xft:Terminus:pixelsize=8" -e cava &
	#termite -t lyvi -e lyviwait &
	if [ "$1" == "nochrome" ]; then
		spotify &
		xdotool search --sync --onlyvisible --class "Spotify" windowfocus
		i3-msg "move left"
	else
		google-chrome-stable &
		xdotool search --sync --onlyvisible --class "google-chrome" windowfocus
		spotify &
		xdotool search --sync --onlyvisible --class "Spotify"
	fi
	urxvt -title lyvi -e lyviwait &
	#terminator -T cava -p cava -e cava &
	#sleep 5
	#i3-msg "workspace 2"
	#terminator -T lyvi -e lyvi &
}

restore-wkspace3() {
	i3-msg "workspace 3; append_layout ~/.i3/workspace_3.json"
	ghetto-skype &
	discord &
}

case $1 in
	1)
		restore-wkspace1
	;;
	2)
		restore-wkspace2
	;;
	2-nochrome)
		restore-wkspace2 nochrome
	;;
	3)
		restore-wkspace3
	;;
	all)
		restore-wkspace2
		xdotool search --sync --onlyvisible --name "lyvi"
		restore-wkspace3
		xdotool search --sync --onlyvisible --class "Ghetto Skype"
		xdotool search --sync --onlyvisible --class "Discord"
		restore-wkspace1
		xdotool search --sync --onlyvisible --class "/usr/bin/chromium-snapshot-bin"
		killall -9 compton
		compton --config ~/.config/compton.conf -b
	;;
esac

exit
